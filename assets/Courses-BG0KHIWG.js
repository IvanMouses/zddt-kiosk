import{r as m,R,b as ee,j as s,L as j}from"./index-CKr5CPvm.js";import{c as t,a as y}from"./coursesCardsData-B2vIE2UE.js";import{m as F}from"./App.module-Bx1Vi9m0.js";import{h as te}from"./Header.module-GQqjfuFo.js";import{F as O,A as se,G as re,g as M,H as ae}from"./index-CEYjpWZk.js";import{t as ne}from"./tippy-DhYe6CgZ.js";function K(c,r){if(c==null)return{};var n={},l=Object.keys(c),u,f;for(f=0;f<l.length;f++)u=l[f],!(r.indexOf(u)>=0)&&(n[u]=c[u]);return n}var X=typeof window<"u"&&typeof document<"u";function q(c,r){c&&(typeof c=="function"&&c(r),{}.hasOwnProperty.call(c,"current")&&(c.current=r))}function U(){return X&&document.createElement("div")}function ce(c){var r={"data-placement":c.placement};return c.referenceHidden&&(r["data-reference-hidden"]=""),c.escaped&&(r["data-escaped"]=""),r}function J(c,r){if(c===r)return!0;if(typeof c=="object"&&c!=null&&typeof r=="object"&&r!=null){if(Object.keys(c).length!==Object.keys(r).length)return!1;for(var n in c)if(r.hasOwnProperty(n)){if(!J(c[n],r[n]))return!1}else return!1;return!0}else return!1}function ie(c){var r=[];return c.forEach(function(n){r.find(function(l){return J(n,l)})||r.push(n)}),r}function le(c,r){var n,l;return Object.assign({},r,{popperOptions:Object.assign({},c.popperOptions,r.popperOptions,{modifiers:ie([].concat(((n=c.popperOptions)==null?void 0:n.modifiers)||[],((l=r.popperOptions)==null?void 0:l.modifiers)||[]))})})}var A=X?m.useLayoutEffect:m.useEffect;function oe(c){var r=m.useRef();return r.current||(r.current=typeof c=="function"?c():c),r.current}function G(c,r,n){n.split(/\s+/).forEach(function(l){l&&c.classList[r](l)})}var ue={name:"className",defaultValue:"",fn:function(r){var n=r.popper.firstElementChild,l=function(){var h;return!!((h=r.props.render)!=null&&h.$$tippy)};function u(){r.props.className&&!l()||G(n,"add",r.props.className)}function f(){l()&&G(n,"remove",r.props.className)}return{onCreate:u,onBeforeUpdate:f,onAfterUpdate:u}}};function de(c){function r(n){var l=n.children,u=n.content,f=n.visible,p=n.singleton,h=n.render,g=n.reference,E=n.disabled,i=E===void 0?!1:E,D=n.ignoreAttributes,w=D===void 0?!0:D;n.__source,n.__self;var e=K(n,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"]),a=f!==void 0,o=p!==void 0,x=m.useState(!1),Q=x[0],V=x[1],z=m.useState({}),$=z[0],Y=z[1],_=m.useState(),Z=_[0],B=_[1],v=oe(function(){return{container:U(),renders:1}}),k=Object.assign({ignoreAttributes:w},e,{content:v.container});a&&(k.trigger="manual",k.hideOnClick=!1),o&&(i=!0);var P=k,H=k.plugins||[];h&&(P=Object.assign({},k,{plugins:o&&p.data!=null?[].concat(H,[{fn:function(){return{onTrigger:function(L,b){var S=p.data.children.find(function(I){var N=I.instance;return N.reference===b.currentTarget});L.state.$$activeSingletonInstance=S.instance,B(S.content)}}}}]):H,render:function(){return{popper:v.container}}}));var W=[g].concat(l?[l.type]:[]);return A(function(){var C=g;g&&g.hasOwnProperty("current")&&(C=g.current);var d=c(C||v.ref||U(),Object.assign({},P,{plugins:[ue].concat(k.plugins||[])}));return v.instance=d,i&&d.disable(),f&&d.show(),o&&p.hook({instance:d,content:u,props:P,setSingletonContent:B}),V(!0),function(){d.destroy(),p==null||p.cleanup(d)}},W),A(function(){var C;if(v.renders===1){v.renders++;return}var d=v.instance;d.setProps(le(d.props,P)),(C=d.popperInstance)==null||C.forceUpdate(),i?d.disable():d.enable(),a&&(f?d.show():d.hide()),o&&p.hook({instance:d,content:u,props:P,setSingletonContent:B})}),A(function(){var C;if(h){var d=v.instance;d.setProps({popperOptions:Object.assign({},d.props.popperOptions,{modifiers:[].concat((((C=d.props.popperOptions)==null?void 0:C.modifiers)||[]).filter(function(L){var b=L.name;return b!=="$$tippyReact"}),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(b){var S,I=b.state,N=(S=I.modifiersData)==null?void 0:S.hide;($.placement!==I.placement||$.referenceHidden!==(N==null?void 0:N.isReferenceHidden)||$.escaped!==(N==null?void 0:N.hasPopperEscaped))&&Y({placement:I.placement,referenceHidden:N==null?void 0:N.isReferenceHidden,escaped:N==null?void 0:N.hasPopperEscaped}),I.attributes.popper={}}}])})})}},[$.placement,$.referenceHidden,$.escaped].concat(W)),R.createElement(R.Fragment,null,l?m.cloneElement(l,{ref:function(d){v.ref=d,q(l.ref,d)}}):null,Q&&ee.createPortal(h?h(ce($),Z,v.instance):u,v.container))}return r}var me=function(c,r){return m.forwardRef(function(l,u){var f=l.children,p=K(l,["children"]);return R.createElement(c,Object.assign({},r,p),f?m.cloneElement(f,{ref:function(g){q(u,g),q(f.ref,g)}}):null)})},xe=me(de(ne));const T=xe;function je(){const[c,r]=m.useState(!1),[n,l]=m.useState(null),[u,f]=m.useState(""),[p,h]=m.useState(!1),[g,E]=m.useState(!1),i={age:n,category:u,check:g},[D,w]=m.useState(0);return m.useEffect(()=>{function e(){a.getBoundingClientRect().top<=o.getBoundingClientRect().bottom&&(r(!0),a.style.top=o.getBoundingClientRect().bottom+"px"),document.documentElement.clientWidth<=425?document.documentElement.scrollTop<=200&&r(!1):document.documentElement.clientWidth>425&&document.documentElement.scrollTop<=o.getBoundingClientRect().height&&r(!1)}const a=document.querySelector(`.${t.coursesSchedule}`),o=document.querySelector(`.${te.header}`);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),m.useEffect(()=>{function e(a){(a.target.classList.contains(`${t.filterContainer}`)||a.target.classList.contains(`${t.fiterDescription}`))&&(document.querySelector(`.${t.filters}`).classList.toggle(`${t.active}`),document.querySelector(`.${t.filtersIcon}`).classList.toggle(`${t.active}`))}return document.documentElement.addEventListener("click",e),()=>{document.documentElement.removeEventListener("click",e)}},[]),m.useEffect(()=>{function e(a){a.target.classList.contains(`${t.filterProgrammCategoryOption}`)&&(f(a.target.textContent),localStorage.setItem("category",`${a.target.textContent}`))}return document.documentElement.addEventListener("click",e),()=>{document.documentElement.removeEventListener("click",e)}},[]),m.useEffect(()=>{function e(a){a.target.classList.contains(`${t.filterProgrammCategory}`)||a.target.classList.contains(`${t.filterProgrammCategoryIcon}`)||a.target.classList.contains(`${t.filterProgrammCategoryIconsContainer}`)?(h(!0),document.querySelector(`.${t.filterProgrammCategoryIcon}`).classList.add(`${t.active}`)):(h(!1),document.querySelector(`.${t.filterProgrammCategoryIcon}`).classList.remove(`${t.active}`))}return document.documentElement.addEventListener("click",e),()=>{document.documentElement.removeEventListener("click",e)}},[]),m.useEffect(()=>{w(document.querySelector(`.${t.coursesCards}`).children.length)},[n,u]),m.useEffect(()=>{l(Number(localStorage.getItem("age"))),f(localStorage.getItem("category")),localStorage.getItem("check")=="true"?(document.getElementById("checkFilter").checked=!0,E(!0)):(document.getElementById("checkFilter").checked=!1,E(!1))},[]),s.jsx("section",{className:t.courses,children:s.jsxs("div",{className:t.coursesContainer,children:[s.jsxs("div",{className:F.navigation,children:[s.jsx(j,{to:"/",className:F.navigationLink,children:"Главная"}),s.jsx(O,{className:F.navigationIcon,icon:se}),s.jsx(j,{to:"/courses",className:`${F.navigationLink} ${F.current}`,children:"Образовательные программы"})]}),s.jsxs("div",{style:c?{marginBottom:"60px"}:{marginBottom:"10px"},className:t.coursesHeader,children:[s.jsx("h2",{className:t.coursesTitle,children:"Образовательные программы"}),s.jsxs("div",{className:t.filterContainer,children:[s.jsx("p",{className:t.fiterDescription,children:"Фильтры"}),s.jsxs("div",{className:t.filtersIconWrapper,children:[s.jsx(O,{icon:re,className:t.filtersIcon,onClick:()=>{document.querySelector(`.${t.filters}`).classList.toggle(`${t.active}`),document.querySelector(`.${t.filtersIcon}`).classList.toggle(`${t.active}`)}}),(n||u||g)&&s.jsx("span",{className:t.activeFiltersCounter,children:n&&u&&g?3:u&&n||n&&g||u&&g?2:n||u||g?1:""})]}),s.jsxs("div",{className:t.filters,children:[s.jsxs("div",{className:t.checkFilter,children:[s.jsx("input",{onChange:e=>{E(e.target.checked),localStorage.setItem("check",e.target.checked)},className:t.checkFilterInput,type:"checkbox",name:"checkFilter",id:"checkFilter"}),s.jsx("label",{className:t.labelCheckFilter,htmlFor:"checkFilter",children:"Есть места"})]}),s.jsxs("div",{className:t.filterAge,children:[s.jsx("input",{value:localStorage.getItem("age"),onChange:e=>{l(Number(e.target.value)),localStorage.setItem("age",`${e.target.value}`),e.target.value.startsWith("0")&&(e.target.value="")},onKeyDown:e=>{e.key==="Enter"&&e.target.blur(),(["-"].includes(e.key)||["+"].includes(e.key)||[","].includes(e.key)||["."].includes(e.key))&&e.preventDefault()},name:"ageFilter",type:"number",className:t.filterAgeInput,placeholder:"Укажите возраст"}),s.jsx("div",{className:t.filterAgeIconsContainer,children:n?s.jsx(O,{onClick:()=>{l(""),localStorage.setItem("age",""),document.querySelector(`.${t.filterAgeInput}`).value=""},icon:M,className:t.filterAgeResetFilter}):""})]}),s.jsxs("div",{className:t.filterProgrammCategory,children:[s.jsx("input",{tabIndex:"-1",defaultValue:u,className:t.filterProgrammCategoryInput,type:"text",placeholder:"Направленность",name:"categoryFilter"}),s.jsxs("ul",{className:p?`${t.filterProgrammCategorySelect} ${t.active}`:`${t.filterProgrammCategorySelect}`,children:[s.jsx("li",{className:t.filterProgrammCategoryOption,children:"Художественная"}),s.jsx("li",{className:t.filterProgrammCategoryOption,children:"Техническая"}),s.jsx("li",{className:t.filterProgrammCategoryOption,children:"Социально-гуманитарная"}),s.jsx("li",{className:t.filterProgrammCategoryOption,children:"Физкультурно-спортивная"}),s.jsx("li",{className:t.filterProgrammCategoryOption,children:"Естественнонаучная"})]}),s.jsxs("div",{className:t.filterProgrammCategoryIconsContainer,children:[s.jsx(O,{icon:ae,className:t.filterProgrammCategoryIcon,style:u?{display:"none"}:{display:"block"}}),u&&s.jsx(O,{onClick:()=>{f(null),localStorage.setItem("category","")},icon:M,className:t.filterProgrammCategoryResetFilter})]})]})]})]})]}),D?null:s.jsxs("div",{className:t.coursesCardsMissingPage,children:[s.jsx("img",{className:t.coursesCardsMissingPageImg,src:"/img/missing-page-cat.png"}),"По вашему запросу ничего не найдено..."]}),s.jsx("div",{className:t.coursesCards,children:!i.age&&!i.category&&!i.check?y.map(e=>s.jsx(j,{to:e.title,className:t.coursesCard,children:s.jsxs("div",{className:t.coursesCardBody,children:[s.jsx("div",{className:t.coursesCardImage,children:s.jsx("img",{loading:"lazy",src:e.image.src,alt:"",className:t.coursesCardPicture})}),s.jsx("h3",{className:t.coursesCardTitle,children:e.title}),s.jsxs("div",{className:t.coursesCardExtra,children:[s.jsx("span",{className:t.coursesCardExtraText,children:e.extraText.length>1?`с ${e.extraText[0]} до
                        ${e.extraText[e.extraText.length-1]} лет`:`для ${e.extraText[0]} лет`}),e.extraInfo&&e.extraInfo.map((a,o)=>s.jsx(T,{content:a.description,touch:!0,children:s.jsx("span",{className:t.coursesCardExtraText,onClick:x=>x.preventDefault(),children:a.text})},o))]})]})},e.title)):i.age&&!i.category&&!i.check?y.filter(e=>e.extraText.includes(i.age)).map(e=>s.jsx(j,{to:e.title,className:t.coursesCard,children:s.jsxs("div",{className:t.coursesCardBody,children:[s.jsx("div",{className:t.coursesCardImage,children:s.jsx("img",{loading:"lazy",src:e.image.src,alt:"",className:t.coursesCardPicture})}),s.jsx("h3",{className:t.coursesCardTitle,children:e.title}),s.jsxs("div",{className:t.coursesCardExtra,children:[s.jsx("span",{className:t.coursesCardExtraText,children:e.extraText.length>1?`с ${e.extraText[0]} до
                        ${e.extraText[e.extraText.length-1]} лет`:`для ${e.extraText[0]} лет`}),e.extraInfo&&e.extraInfo.map((a,o)=>s.jsx(T,{content:a.description,touch:!0,children:s.jsx("span",{className:t.coursesCardExtraText,onClick:x=>x.preventDefault(),children:a.text})},o))]})]})},e.title)):!i.age&&i.category&&!i.check?y.filter(e=>e.category===i.category).map(e=>s.jsx(j,{to:e.title,className:t.coursesCard,children:s.jsxs("div",{className:t.coursesCardBody,children:[s.jsx("div",{className:t.coursesCardImage,children:s.jsx("img",{loading:"lazy",src:e.image.src,alt:"",className:t.coursesCardPicture})}),s.jsx("h3",{className:t.coursesCardTitle,children:e.title}),s.jsxs("div",{className:t.coursesCardExtra,children:[s.jsx("span",{className:t.coursesCardExtraText,children:e.extraText.length>1?`с ${e.extraText[0]} до
                        ${e.extraText[e.extraText.length-1]} лет`:`для ${e.extraText[0]} лет`}),e.extraInfo&&e.extraInfo.map((a,o)=>s.jsx(T,{content:a.description,touch:!0,children:s.jsx("span",{className:t.coursesCardExtraText,onClick:x=>x.preventDefault(),children:a.text})},o))]})]})},e.title)):i.age&&!i.category&&i.check?y.filter(e=>e.extraText.includes(i.age)&&e.vacantPlaces).map(e=>s.jsx(j,{to:e.title,className:t.coursesCard,children:s.jsxs("div",{className:t.coursesCardBody,children:[s.jsx("div",{className:t.coursesCardImage,children:s.jsx("img",{loading:"lazy",src:e.image.src,alt:"",className:t.coursesCardPicture})}),s.jsx("h3",{className:t.coursesCardTitle,children:e.title}),s.jsxs("div",{className:t.coursesCardExtra,children:[s.jsx("span",{className:t.coursesCardExtraText,children:e.extraText.length>1?`с ${e.extraText[0]} до
                    ${e.extraText[e.extraText.length-1]} лет`:`для ${e.extraText[0]} лет`}),e.extraInfo&&e.extraInfo.map((a,o)=>s.jsx(T,{content:a.description,touch:!0,children:s.jsx("span",{className:t.coursesCardExtraText,onClick:x=>x.preventDefault(),children:a.text})},o))]})]})},e.title)):!i.age&&i.category&&i.check?y.filter(e=>e.category===i.category&&e.vacantPlaces).map(e=>s.jsx(j,{to:e.title,className:t.coursesCard,children:s.jsxs("div",{className:t.coursesCardBody,children:[s.jsx("div",{className:t.coursesCardImage,children:s.jsx("img",{loading:"lazy",src:e.image.src,alt:"",className:t.coursesCardPicture})}),s.jsx("h3",{className:t.coursesCardTitle,children:e.title}),s.jsxs("div",{className:t.coursesCardExtra,children:[s.jsx("span",{className:t.coursesCardExtraText,children:e.extraText.length>1?`с ${e.extraText[0]} до
                        ${e.extraText[e.extraText.length-1]} лет`:`для ${e.extraText[0]} лет`}),e.extraInfo&&e.extraInfo.map((a,o)=>s.jsx(T,{content:a.description,touch:!0,children:s.jsx("span",{className:t.coursesCardExtraText,onClick:x=>x.preventDefault(),children:a.text})},o))]})]})},e.title)):i.age&&i.category&&i.check?y.filter(e=>e.category===i.category&&e.extraText.includes(i.age)&&e.vacantPlaces).map(e=>s.jsx(j,{to:e.title,className:t.coursesCard,children:s.jsxs("div",{className:t.coursesCardBody,children:[s.jsx("div",{className:t.coursesCardImage,children:s.jsx("img",{loading:"lazy",src:e.image.src,alt:"",className:t.coursesCardPicture})}),s.jsx("h3",{className:t.coursesCardTitle,children:e.title}),s.jsxs("div",{className:t.coursesCardExtra,children:[s.jsx("span",{className:t.coursesCardExtraText,children:e.extraText.length>1?`с ${e.extraText[0]} до
                        ${e.extraText[e.extraText.length-1]} лет`:`для ${e.extraText[0]} лет`}),e.extraInfo&&e.extraInfo.map((a,o)=>s.jsx(T,{content:a.description,touch:!0,children:s.jsx("span",{className:t.coursesCardExtraText,onClick:x=>x.preventDefault(),children:a.text})},o))]})]})},e.title)):i.age&&i.category&&!i.check?y.filter(e=>e.category===i.category&&e.extraText.includes(i.age)).map(e=>s.jsx(j,{to:e.title,className:t.coursesCard,children:s.jsxs("div",{className:t.coursesCardBody,children:[s.jsx("div",{className:t.coursesCardImage,children:s.jsx("img",{loading:"lazy",src:e.image.src,alt:"",className:t.coursesCardPicture})}),s.jsx("h3",{className:t.coursesCardTitle,children:e.title}),s.jsxs("div",{className:t.coursesCardExtra,children:[s.jsx("span",{className:t.coursesCardExtraText,children:e.extraText.length>1?`с ${e.extraText[0]} до
                        ${e.extraText[e.extraText.length-1]} лет`:`для ${e.extraText[0]} лет`}),e.extraInfo&&e.extraInfo.map((a,o)=>s.jsx(T,{content:a.description,touch:!0,children:s.jsx("span",{className:t.coursesCardExtraText,onClick:x=>x.preventDefault(),children:a.text})},o))]})]})},e.title)):!i.age&&!i.category&&i.check?y.filter(e=>e.vacantPlaces).map(e=>s.jsx(j,{to:e.title,className:t.coursesCard,children:s.jsxs("div",{className:t.coursesCardBody,children:[s.jsx("div",{className:t.coursesCardImage,children:s.jsx("img",{loading:"lazy",src:e.image.src,alt:"",className:t.coursesCardPicture})}),s.jsx("h3",{className:t.coursesCardTitle,children:e.title}),s.jsxs("div",{className:t.coursesCardExtra,children:[s.jsx("span",{className:t.coursesCardExtraText,children:e.extraText.length>1?`с ${e.extraText[0]} до
                        ${e.extraText[e.extraText.length-1]} лет`:`для ${e.extraText[0]} лет`}),e.extraInfo&&e.extraInfo.map((a,o)=>s.jsx(T,{content:a.description,touch:!0,children:s.jsx("span",{className:t.coursesCardExtraText,onClick:x=>x.preventDefault(),children:a.text})},o))]})]})},e.title)):y.filter(e=>e.extraText.includes(i.age)&&e.category===i.category&&e.vacantPlaces).map(e=>s.jsx(j,{to:e.title,className:t.coursesCard,children:s.jsxs("div",{className:t.coursesCardBody,children:[s.jsx("div",{className:t.coursesCardImage,children:s.jsx("img",{loading:"lazy",src:e.image.src,alt:"",className:t.coursesCardPicture})}),s.jsx("h3",{className:t.coursesCardTitle,children:e.title}),s.jsxs("div",{className:t.coursesCardExtra,children:[s.jsx("span",{className:t.coursesCardExtraText,children:e.extraText.length>1?`с ${e.extraText[0]} до
                        ${e.extraText[e.extraText.length-1]} лет`:`для ${e.extraText[0]} лет`}),e.extraInfo&&e.extraInfo.map((a,o)=>s.jsx(T,{content:a.description,touch:!0,children:s.jsx("span",{className:t.coursesCardExtraText,onClick:x=>x.preventDefault(),children:a.text})},o))]})]})},e.title))})]})})}export{je as default};
